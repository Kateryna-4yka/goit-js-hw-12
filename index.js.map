{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// У файлі pixabay-api.js зберігай функції для HTTP-запитів.\n\nexport function nttpRequest (userRequest) {\n    const paramsForHttp = new URLSearchParams ({\n        q: userRequest,\n        key: `48292121-37734ba9461bf6417934fa015`,\n        image_type: `photo`, \n        orientation: `horizontal`,\n        safesearch : true,\n\n    })\n    return fetch (`https://pixabay.com/api/?${paramsForHttp}`)\n\n    //обробляємо відповідь що прийшла \n    .then (queryResult=>{\n    //робимо перевірку, якщо інфа прийшла з помилкою, то перекидаємо у catch\n    if (!queryResult.ok)\n      {throw new Error(queryResult.status);}\n        \n    //а якщо все ок, тоді РОЗПАРШУЄМО данні для наступного then\n    return queryResult.json();\n    })\n\n\n}","// У файлі render-functions.js створи функції для відображення елементів інтерфейсу.\n\n\nexport function createCart (element) {\n\n    return ` \n        <li class=\"li-gallery\">\n\n        <a class=\"li-gallery-a\" href=\"${element.largeImageURL}\">\n        <img class=\"img\" src=\"${element.webformatURL}\" \n        alt=\"${element.tags}\" \n        />\n        </a>\n        <ul class=\"baner-info\">\n          <li class=\"baner-info-li\">\n            <p class=\"baner-info-li-title\">Likes</p>\n            <p class=\"baner-info-li-text\">${element.likes}</p>\n          </li>\n          <li class=\"baner-info-li\">\n            <p class=\"baner-info-li-title\">Views</p>\n            <p class=\"baner-info-li-text\">${element.views}</p>\n          </li>\n          <li class=\"baner-info-li\">\n            <p class=\"baner-info-li-title\">Comments</p>\n            <p class=\"baner-info-li-text\">${element.comments}</p>\n          </li>\n          <li class=\"baner-info-li\">\n            <p class=\"baner-info-li-title\">Downloads</p>\n            <p class=\"baner-info-li-text\">${element.downloads}</p>\n          \n            </li>\n        </ul>\n        </li> `;\n}\n\n","// izitoast\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n// simplelightbox\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n//імпортуємо свої функції для НТТР та відмальовування на сторінці лішок\nimport {nttpRequest} from \"./js/pixabay-api\";\nimport {createCart} from \"./js/render-functions\";\n\n// шукаємо форму і вішаємо на її сабміт слухача \n\nconst form = document.querySelector (`.form`);\nconst ulGallery = document.querySelector (`.ul-gallery`);\nconst button = document.querySelector ('.button');\nconst loader = document.querySelector ('.loader');\n\nform.addEventListener (`submit`, request);\n\nfunction request (event) {\n  loader.classList.toggle (`visually-hidden`);\n// подія сабмін робить оновлення сторінки, ми це скидаємо \nevent.preventDefault();\n\n//можна звернутися до input.value , але це зайвий раз звертатися до дерева , тому ідемо через event.currentTarget.elements.(ім,я з name HTML) + .trim(), щоб не було пробілів\n\nconst userRequest = event.currentTarget.elements.user_request.value.trim(); \n\n//перевіряємо, щоб не вводили пусте в інпут\nif (userRequest ==='') {button.disabled = true; return;}\n\n//робимо запит на сервер pixabay.com за своїм клієнт ключем та параметрами з документації АРІ\nnttpRequest (userRequest)\n.then (serverInform => {\n\n//перевірка справжніх слів\nif (serverInform.hits.length === 0) {\n  loader.classList.toggle (`visually-hidden`);\n  iziToast.error({\n    position: 'topRight' ,\n    message: 'Sorry, there are no images matching your search query. Please try again!',\n});\n\n\nulGallery.innerHTML = '';\nform.reset();\nreturn;}\n\n const gallaryCard = serverInform.hits.map(el =>createCart(el)).join('');\n// метод меп перебирає масив об,єктів і видає на кожній ітерації 1 обєкт , який заповнений рядками з описами кожної картки \n//але нам потрібен 1 рядок, а не масив рядків, тому ми викликаємо метод .join  і зшиваємо це до купи\n\n//робимо функцію createCart, яка буде перетворювати отримані данні з сервера на розмітку на сторінці. Створювати картку в HTML з данними, які прийшли з сервера. \n\n\n//додаємо на сторінку через innerHTML у знайдений список\nulGallery.innerHTML = gallaryCard;\nloader.classList.toggle (`visually-hidden`);\nform.reset();\n//відмальовуємо великі зображення за допомогою бібліотеки SimpleLightbox\nconst elemSimpleLightbox = new SimpleLightbox(`.ul-gallery a`, {\n  captionsData: `alt`, \n});\nelemSimpleLightbox.refresh();\n})\n\n.catch (error=>{console.log(error);})};\n\n"],"names":["nttpRequest","userRequest","paramsForHttp","queryResult","createCart","element","form","ulGallery","button","loader","request","event","serverInform","iziToast","gallaryCard","el","SimpleLightbox","error"],"mappings":"6vBAEO,SAASA,EAAaC,EAAa,CACtC,MAAMC,EAAgB,IAAI,gBAAiB,CACvC,EAAGD,EACH,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAa,EAErB,CAAK,EACD,OAAO,MAAO,4BAA4BC,CAAa,EAAE,EAGxD,KAAMC,GAAa,CAEpB,GAAI,CAACA,EAAY,GACd,MAAM,IAAI,MAAMA,EAAY,MAAM,EAGrC,OAAOA,EAAY,MACvB,CAAK,CAGL,CCrBO,SAASC,EAAYC,EAAS,CAEjC,MAAO;AAAA;AAAA;AAAA,wCAG6BA,EAAQ,aAAa;AAAA,gCAC7BA,EAAQ,YAAY;AAAA,eACrCA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAMiBA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,4CAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,4CAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,4CAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA,eAK7D,CCpBA,MAAMC,EAAO,SAAS,cAAe,OAAO,EACtCC,EAAY,SAAS,cAAe,aAAa,EACjDC,EAAS,SAAS,cAAe,SAAS,EAC1CC,EAAS,SAAS,cAAe,SAAS,EAEhDH,EAAK,iBAAkB,SAAUI,CAAO,EAExC,SAASA,EAASC,EAAO,CACvBF,EAAO,UAAU,OAAQ,iBAAiB,EAE5CE,EAAM,eAAc,EAIpB,MAAMV,EAAcU,EAAM,cAAc,SAAS,aAAa,MAAM,OAGpE,GAAIV,IAAe,GAAI,CAACO,EAAO,SAAW,GAAM,MAAO,CAGvDR,EAAaC,CAAW,EACvB,KAAMW,GAAgB,CAGvB,GAAIA,EAAa,KAAK,SAAW,EAAG,CAClCH,EAAO,UAAU,OAAQ,iBAAiB,EAC1CI,EAAS,MAAM,CACb,SAAU,WACV,QAAS,0EACb,CAAC,EAGDN,EAAU,UAAY,GACtBD,EAAK,MAAK,EACV,MAAO,CAEN,MAAMQ,EAAcF,EAAa,KAAK,IAAIG,GAAKX,EAAWW,CAAE,CAAC,EAAE,KAAK,EAAE,EAQvER,EAAU,UAAYO,EACtBL,EAAO,UAAU,OAAQ,iBAAiB,EAC1CH,EAAK,MAAK,EAEiB,IAAIU,EAAe,gBAAiB,CAC7D,aAAc,KAChB,CAAC,EACkB,QAAO,CAC1B,CAAC,EAEA,MAAOC,GAAO,CAAC,QAAQ,IAAIA,CAAK,CAAE,CAAC,CAAC"}